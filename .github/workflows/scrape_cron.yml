name: Scrape Cron Job (23:45 AZT)

on:
  schedule:
    # Avtomatik İcra: Hər gün saat 23:45 Bakı vaxtı (UTC 19:45-dir)
    - cron: '45 19 * * *'
  
  # Manual icra üçün düymə
  workflow_dispatch: 

jobs:
  run_scrape:
    runs-on: ubuntu-latest
    steps:
      - name: Report UTC Time
        run: echo "Starting scrape at $(date -u) UTC"
        
      - name: Call Scrape API (Asinxron Başlanğıc)
        # 60 saniyə Timeout Render'in oyanması üçün kifayətdir.
        run: curl --max-time 60 https://yeni-projem-1.onrender.com/api/scrape
